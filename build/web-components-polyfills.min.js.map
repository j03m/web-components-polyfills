{"version":3,"file":"web-components-polyfills.min.js","sources":["?","../src/document.currentScript.js","../src/shadow-dom-css.js","../src/shadow-dom.js","../src/document.registerElement.js","../src/html-imports.js"],"names":["exports","global","getScriptFromUrl","url","i","len","scripts","length","src","getSoleInlineScript","script","undefined","getScriptUrlFromStack","stack","skipStackDepth","matches","remainingStack","ignoreMessage","_currentScript","match","slice","indexOf","readyState","document","hasStack","Error","err","pageUrl","needsPolyfill","canDefineGetter","__defineGetter__","canDefineProp","Object","defineProperty","result","value","enumerable","writable","configurable","_xyz","e","window","location","href","getElementsByTagName","get","scope","ShadowDOMCSS","support","HTMLElement","prototype","shim","importEl","importStyles","import","body","querySelector","content","querySelectorAll","Array","forEach","call","importStyle","scopeSelector","textContent","replace","cssText","head","appendChild","sheet","cssRules","rule","scopedSelector","selectorText","style","createShadowRoot","this","shadowRoot","REGISTER_ELEMENT","loopAndVerify","list","action","verifyAndSetupAndAction","loopAndSetup","node","setupNode","protos","getTypeIndex","discoverUncaughtElements","initialTrigger","query","executeAction","iPO","HTMLElementPrototype","target","is","getAttribute","types","toUpperCase","nodeName","onDOMAttrModified","currentTarget","attrChange","prevValue","newValue","attributeChangedCallback","attrName","ADDITION","REMOVAL","onDOMNode","executor","patchedSetAttribute","name","self","setAttribute","onSubtreeModified","proto","setPrototype","observer","observe","attributesObserver","doesNotSupportDOMAttrModified","EXPANDO_UID","getAttributesMirror","addEventListener","DOM_SUBTREE_MODIFIED","DOM_ATTR_MODIFIED","createdCallback","created","fn","attached","detached","patchIfNotAlready","callDOMAttrModified","Math","random","EXTENDS","validName","invalidNames","documentElement","v","OP","hOP","hasOwnProperty","isPrototypeOf","gOPD","getOwnPropertyDescriptor","gOPN","getOwnPropertyNames","gPO","getPrototypeOf","sPO","setPrototypeOf","hasProto","__proto__","create","Bridge","o","p","setProperties","key","names","MutationObserver","WebKitMutationObserver","Element","Node","cloneNode","createElement","attributes","characterData","attributeOldValue","DOMAttrModified","removeEventListener","setListener","removeAttribute","oldAttributes","newAttributes","attr","type","options","upperType","checkEmAll","callback","records","current","addedNodes","removedNodes","attributeName","oldValue","childList","subtree","localName","typeExtension","apply","arguments","toLowerCase","deep","test","constructor","extending","opt","push","concat","clearTimeout","setTimeout","importElement","xhr","XMLHttpRequest","open","onload","status","implementation","createHTMLDocument","innerHTML","responseText","importScripts","importScript","index","scriptIndex","currentScript","btoa","encodeURIComponent","parentNode","removeChild","send"],"mappings":"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"}